import{r as o,j as e,B as h,s as x}from"./app-BB1ZxGmZ.js";import"./dayjs.min-BKpMflCA.js";import{f as j}from"./khmerDate-iNtMyZoL.js";import{F as r}from"./index-BRhvAF0g.js";import{C as l}from"./index-CFcJuZ_P.js";import{I as n}from"./index-quoohvpH.js";import{D as g}from"./index-Dgyafjhd.js";import{T as b}from"./index-B_wGj_Gp.js";import{R as y}from"./SaveOutlined-BTWtA3Rs.js";import{I as _}from"./index-xjqdTS8d.js";function N({onSubmit:m,files:F,frontImage:s,initialValues:d}){const[c]=r.useForm(),[u,a]=o.useState(!1),p=async t=>{try{a(!0);const i={...t,date_of_registration:t.date_of_registration?t.date_of_registration.format("YYYY-MM-DD"):null};await m(i)}catch{x.error("មានបញ្ហាក្នុងការរក្សាទុកព័ត៌មាន")}finally{a(!1)}},f=()=>!s||!s.base64?null:e.jsx(l,{title:"រូបភាពបង្ហាញ",className:"mb-6",styles:{body:{padding:"16px",textAlign:"center"}},children:e.jsx("div",{style:{maxWidth:"500px",margin:"0 auto"},children:e.jsx(_,{src:s.base64,alt:s.name||"Front Image",style:{maxHeight:"350px",objectFit:"contain"},preview:{mask:e.jsx("div",{children:"Click to view full size"})}})})}),[I,w]=o.useState({plot_number:!1,location:!1,date_of_registration:!1,size:!1});return e.jsxs(e.Fragment,{children:[f(),e.jsx(l,{title:"ព័ត៌មានដី",className:"mb-6",children:e.jsxs(r,{form:c,layout:"vertical",onFinish:p,initialValues:d,children:[e.jsx(r.Item,{label:"លេខប្លង់",name:"plot_number",rules:[{required:!0,message:"សូមបញ្ចូលលេខប្លង់"}],children:e.jsx(n,{placeholder:"បញ្ចូលលេខប្លង់"})}),e.jsx(r.Item,{label:"ទីតាំង",name:"location",rules:[{required:!0,message:"សូមបញ្ចូលទីតាំង"}],children:e.jsx(n,{placeholder:"បញ្ចូលទីតាំង"})}),e.jsx(r.Item,{label:"កាលបរិច្ឆេទចុះបញ្ជី",name:"date_of_registration",rules:[{required:!0,message:"សូមជ្រើសរើសកាលបរិច្ឆេទចុះបញ្ជី"}],children:e.jsx(g,{style:{width:"100%"},format:t=>j(t),placeholder:"ជ្រើសរើសកាលបរិច្ឆេទចុះបញ្ជី"})}),e.jsx(r.Item,{label:"ទំហំ (ម៉ែត្រការ៉េ)",name:"size",rules:[{required:!0,message:"សូមបញ្ចូលទំហំ"}],children:e.jsx(b,{style:{width:"100%"},placeholder:"បញ្ចូលទំហំ",min:0,step:.01,precision:2,addonAfter:"ម²"})}),e.jsx(r.Item,{children:e.jsx(h,{type:"primary",htmlType:"submit",loading:u,icon:e.jsx(y,{}),size:"large",block:!0,children:"រក្សាទុកដី"})})]})})]})}export{N as L};
