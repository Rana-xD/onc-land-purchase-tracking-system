import{j as s,Q as n,B as t}from"./app-Cq9T9vxM.js";import{A as c,R as o}from"./AdminLayout-CqQNNgQt.js";import{C as m,R as p}from"./index-0lybEGve.js";import{R as x}from"./index-C2xFZDUp.js";import{R as h}from"./FilePdfOutlined-Be48nQQt.js";import{R as j}from"./CheckCircleOutlined-BaeYi2tI.js";import{D as u}from"./index-CYTdZQrd.js";import{T as b}from"./index-B236O7Xl.js";import{D as a}from"./index-5J0Dcpw2.js";import{T as g}from"./index-C_oXb-ri.js";import"./UserOutlined-BJz0bsFe.js";import"./index-DL0uTJIv.js";import"./index-DPFVXnL-.js";import"./EllipsisOutlined-BDh9HHBq.js";import"./PurePanel-Ce8hDmce.js";import"./index-B5_NNnDd.js";import"./InboxOutlined-ZSWvT0kT.js";import"./useVariants-Ea3XEG1D.js";import"./EditOutlined-BcDUZ6EU.js";import"./getAllowClear-nqy4kNbo.js";import"./CheckOutlined-_L7buK6x.js";const{Title:i,Text:P}=b;function q({document:r}){const l=e=>e?new Date(e).toLocaleDateString("km-KH",{year:"numeric",month:"long",day:"numeric"}):"",d=e=>e==="deposit_contract"?"លិខិតកក់ប្រាក់":"លិខិតទិញ លក់";return s.jsxs(c,{children:[s.jsx(n,{title:"បង្កើតកិច្ចសន្យាបានជោគជ័យ"}),s.jsx("div",{className:"container mx-auto py-6",children:s.jsxs(m,{children:[s.jsx(x,{status:"success",icon:s.jsx(j,{style:{color:"#52c41a"}}),title:"បង្កើតកិច្ចសន្យាបានជោគជ័យ!",subTitle:"កិច្ចសន្យារបស់អ្នកត្រូវបានបង្កើតដោយជោគជ័យ",extra:[s.jsx(t,{type:"primary",icon:s.jsx(h,{}),href:r.document_type==="deposit_contract"?route("deposit-contracts.document-edit",{id:r.id}):route("sale-contracts.document-edit",{id:r.id}),children:"បង្កើតកិច្ចសន្យា PDF"},"edit-document"),s.jsx(t,{icon:s.jsx(p,{}),href:r.document_type==="deposit_contract"?route("deposit-contracts.index"):route("sale-contracts.index"),children:"បង្កើតកិច្ចសន្យាថ្មី"},"create-new"),s.jsx(t,{icon:s.jsx(o,{}),href:route("dashboard"),children:"ទៅទំព័រដើម"},"home")]}),s.jsx(u,{}),s.jsxs("div",{className:"max-w-3xl mx-auto",children:[s.jsx(i,{level:4,className:"mb-4",children:"ព័ត៌មានលម្អិតនៃកិច្ចសន្យា"}),s.jsxs(a,{bordered:!0,column:{xs:1,sm:2},children:[s.jsx(a.Item,{label:"ប្រភេទកិច្ចសន្យា",children:s.jsx(g,{color:r.document_type==="deposit_contract"?"blue":"green",children:d(r.document_type)})}),s.jsx(a.Item,{label:"កាលបរិច្ឆេទបង្កើត",children:l(r.created_at)}),s.jsxs(a.Item,{label:"តម្លៃដីសរុប",span:2,children:["$",parseFloat(r.total_land_price).toLocaleString()]}),r.document_type==="deposit_contract"&&s.jsxs(s.Fragment,{children:[s.jsxs(a.Item,{label:"ចំនួនប្រាក់កក់",children:["$",parseFloat(r.deposit_amount).toLocaleString()]}),s.jsx(a.Item,{label:"រយៈពេលកក់ប្រាក់",children:r.deposit_months})]})]}),s.jsxs("div",{className:"mt-6",children:[s.jsx(i,{level:5,className:"mb-2",children:"អ្នកទិញ"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:r.buyers&&r.buyers.length>0?r.buyers.map(e=>s.jsx("div",{className:"border p-2 rounded",children:e.buyer?s.jsxs(s.Fragment,{children:[e.buyer.name," - ",e.buyer.phone_number]}):"អ្នកទិញមិនមានទិន្នន័យ"},e.id)):s.jsx("div",{className:"border p-2 rounded",children:"មិនមានអ្នកទិញ"})})]}),s.jsxs("div",{className:"mt-4",children:[s.jsx(i,{level:5,className:"mb-2",children:"អ្នកលក់"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:r.sellers&&r.sellers.length>0?r.sellers.map(e=>s.jsx("div",{className:"border p-2 rounded",children:e.seller?s.jsxs(s.Fragment,{children:[e.seller.name," - ",e.seller.phone_number]}):"អ្នកលក់មិនមានទិន្នន័យ"},e.id)):s.jsx("div",{className:"border p-2 rounded",children:"មិនមានអ្នកលក់"})})]}),s.jsxs("div",{className:"mt-4",children:[s.jsx(i,{level:5,className:"mb-2",children:"ដី"}),s.jsx("div",{className:"grid grid-cols-1 gap-2",children:r.lands&&r.lands.length>0?r.lands.map(e=>s.jsx("div",{className:"border p-2 rounded",children:e.land?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{children:["លេខក្បាលដី: ",e.land.plot_number]}),s.jsxs("span",{children:["ទំហំ: ",e.land.size," m²"]})]}),s.jsxs("div",{className:"flex justify-between mt-1",children:[s.jsxs("span",{children:["ទីតាំង: ",e.land.location||"N/A"]}),s.jsxs("span",{children:["តម្លៃ: $",e.total_price?parseFloat(e.total_price).toLocaleString():"N/A"]})]})]}):"ដីមិនមានទិន្នន័យ"},e.id)):s.jsx("div",{className:"border p-2 rounded",children:"មិនមានដី"})})]}),r.document_type==="sale_contract"&&r.payment_steps.length>0&&s.jsxs("div",{className:"mt-4",children:[s.jsx(i,{level:5,className:"mb-2",children:"ដំណាក់កាលបង់ប្រាក់"}),s.jsx("div",{className:"grid grid-cols-1 gap-2",children:r.payment_steps.map(e=>s.jsxs("div",{className:"border p-2 rounded",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{children:["ដំណាក់កាលទី ",e.step_number]}),s.jsxs("span",{children:["ចំនួនទឹកប្រាក់: $",parseFloat(e.amount).toLocaleString()]})]}),s.jsx("div",{className:"mt-1",children:s.jsxs("span",{children:["កាលបរិច្ឆេទត្រូវបង់: ",l(e.due_date)]})})]},e.id))})]})]})]})})]})}export{q as default};
