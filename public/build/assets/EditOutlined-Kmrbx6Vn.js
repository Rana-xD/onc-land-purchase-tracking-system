import{r as o,N as ze,E as B,H as De,a0 as Ce,F as j,_ as Se,d as D,K as he,w as ye,R as $,v as Pe,g as _e,m as He,u as Le,ag as je,af as Be,n as Ke,ae as We,l as Ye,I as Ze}from"./app-C0Remzwy.js";import{k as qe,B as Ge,r as we,b as Xe,c as Ue,t as Je,l as Qe,m as ke,g as et,a as tt}from"./getAllowClear-Ch9so_13.js";import{a as Re,R as at}from"./index-BkeYX-_W.js";import{u as nt}from"./useVariants-WSvFAMWE.js";var rt=`
  min-height:0 !important;
  max-height:none !important;
  height:0 !important;
  visibility:hidden !important;
  overflow:hidden !important;
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
  pointer-events: none !important;
`,ot=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","font-variant","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break","white-space"],ve={},w;function it(e){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,t=e.getAttribute("id")||e.getAttribute("data-reactid")||e.getAttribute("name");if(a&&ve[t])return ve[t];var n=window.getComputedStyle(e),c=n.getPropertyValue("box-sizing")||n.getPropertyValue("-moz-box-sizing")||n.getPropertyValue("-webkit-box-sizing"),m=parseFloat(n.getPropertyValue("padding-bottom"))+parseFloat(n.getPropertyValue("padding-top")),s=parseFloat(n.getPropertyValue("border-bottom-width"))+parseFloat(n.getPropertyValue("border-top-width")),g=ot.map(function(d){return"".concat(d,":").concat(n.getPropertyValue(d))}).join(";"),S={sizingStyle:g,paddingSize:m,borderSize:s,boxSizing:c};return a&&t&&(ve[t]=S),S}function st(e){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;w||(w=document.createElement("textarea"),w.setAttribute("tab-index","-1"),w.setAttribute("aria-hidden","true"),w.setAttribute("name","hiddenTextarea"),document.body.appendChild(w)),e.getAttribute("wrap")?w.setAttribute("wrap",e.getAttribute("wrap")):w.removeAttribute("wrap");var c=it(e,a),m=c.paddingSize,s=c.borderSize,g=c.boxSizing,S=c.sizingStyle;w.setAttribute("style","".concat(S,";").concat(rt)),w.value=e.value||e.placeholder||"";var d=void 0,v=void 0,z,b=w.scrollHeight;if(g==="border-box"?b+=s:g==="content-box"&&(b-=m),t!==null||n!==null){w.value=" ";var T=w.scrollHeight-m;t!==null&&(d=T*t,g==="border-box"&&(d=d+m+s),b=Math.max(d,b)),n!==null&&(v=T*n,g==="border-box"&&(v=v+m+s),z=b>v?"":"hidden",b=Math.min(v,b))}var x={height:b,overflowY:z,resize:"none"};return d&&(x.minHeight=d),v&&(x.maxHeight=v),x}var lt=["prefixCls","defaultValue","value","autoSize","onResize","className","style","disabled","onChange","onInternalAutoSize"],ge=0,pe=1,xe=2,ut=o.forwardRef(function(e,a){var t=e,n=t.prefixCls,c=t.defaultValue,m=t.value,s=t.autoSize,g=t.onResize,S=t.className,d=t.style,v=t.disabled,z=t.onChange;t.onInternalAutoSize;var b=ze(t,lt),T=Re(c,{value:m,postState:function(p){return p??""}}),x=B(T,2),P=x[0],K=x[1],W=function(p){K(p.target.value),z==null||z(p)},C=o.useRef();o.useImperativeHandle(a,function(){return{textArea:C.current}});var _=o.useMemo(function(){return s&&De(s)==="object"?[s.minRows,s.maxRows]:[]},[s]),Y=B(_,2),h=Y[0],R=Y[1],O=!!s,te=function(){try{if(document.activeElement===C.current){var p=C.current,ee=p.selectionStart,H=p.selectionEnd,ne=p.scrollTop;C.current.setSelectionRange(ee,H),C.current.scrollTop=ne}}catch{}},Z=o.useState(xe),q=B(Z,2),E=q[0],M=q[1],ae=o.useState(),U=B(ae,2),J=U[0],G=U[1],A=function(){M(ge)};Ce(function(){O&&A()},[m,h,R,O]),Ce(function(){if(E===ge)M(pe);else if(E===pe){var y=st(C.current,!1,h,R);M(xe),G(y)}else te()},[E]);var i=o.useRef(),X=function(){ye.cancel(i.current)},Q=function(p){E===xe&&(g==null||g(p),s&&(X(),i.current=ye(function(){A()})))};o.useEffect(function(){return X},[]);var k=O?J:null,V=j(j({},d),k);return(E===ge||E===pe)&&(V.overflowY="hidden",V.overflowX="hidden"),o.createElement(at,{onResize:Q,disabled:!(s||g)},o.createElement("textarea",Se({},b,{ref:C,style:V,className:D(n,S,he({},"".concat(n,"-disabled"),v)),disabled:v,value:P,onChange:W})))}),ct=["defaultValue","value","onFocus","onBlur","onChange","allowClear","maxLength","onCompositionStart","onCompositionEnd","suffix","prefixCls","showCount","count","className","style","disabled","hidden","classNames","styles","onResize","onClear","onPressEnter","readOnly","autoSize","onKeyDown"],dt=$.forwardRef(function(e,a){var t,n=e.defaultValue,c=e.value,m=e.onFocus,s=e.onBlur,g=e.onChange,S=e.allowClear,d=e.maxLength,v=e.onCompositionStart,z=e.onCompositionEnd,b=e.suffix,T=e.prefixCls,x=T===void 0?"rc-textarea":T,P=e.showCount,K=e.count,W=e.className,C=e.style,_=e.disabled,Y=e.hidden,h=e.classNames,R=e.styles,O=e.onResize,te=e.onClear,Z=e.onPressEnter,q=e.readOnly,E=e.autoSize,M=e.onKeyDown,ae=ze(e,ct),U=Re(n,{value:c,defaultValue:n}),J=B(U,2),G=J[0],A=J[1],i=G==null?"":String(G),X=$.useState(!1),Q=B(X,2),k=Q[0],V=Q[1],y=$.useRef(!1),p=$.useState(null),ee=B(p,2),H=ee[0],ne=ee[1],re=o.useRef(null),oe=o.useRef(null),I=function(){var r;return(r=oe.current)===null||r===void 0?void 0:r.textArea},ie=function(){I().focus()};o.useImperativeHandle(a,function(){var f;return{resizableTextArea:oe.current,focus:ie,blur:function(){I().blur()},nativeElement:((f=re.current)===null||f===void 0?void 0:f.nativeElement)||I()}}),o.useEffect(function(){V(function(f){return!_&&f})},[_]);var de=$.useState(null),ue=B(de,2),se=ue[0],fe=ue[1];$.useEffect(function(){if(se){var f;(f=I()).setSelectionRange.apply(f,Pe(se))}},[se]);var u=qe(K,P),l=(t=u.max)!==null&&t!==void 0?t:d,F=Number(l)>0,N=u.strategy(i),Ee=!!l&&N>l,be=function(r,L){var ce=L;!y.current&&u.exceedFormatter&&u.max&&u.strategy(L)>u.max&&(ce=u.exceedFormatter(L,{max:u.max}),L!==ce&&fe([I().selectionStart||0,I().selectionEnd||0])),A(ce),we(r.currentTarget,r,g,ce)},Ae=function(r){y.current=!0,v==null||v(r)},Ie=function(r){y.current=!1,be(r,r.currentTarget.value),z==null||z(r)},$e=function(r){be(r,r.target.value)},Ne=function(r){r.key==="Enter"&&Z&&Z(r),M==null||M(r)},Te=function(r){V(!0),m==null||m(r)},Oe=function(r){V(!1),s==null||s(r)},Me=function(r){A(""),ie(),we(I(),r,g)},me=b,le;u.show&&(u.showFormatter?le=u.showFormatter({value:i,count:N,maxLength:l}):le="".concat(N).concat(F?" / ".concat(l):""),me=$.createElement($.Fragment,null,me,$.createElement("span",{className:D("".concat(x,"-data-count"),h==null?void 0:h.count),style:R==null?void 0:R.count},le)));var Ve=function(r){var L;O==null||O(r),(L=I())!==null&&L!==void 0&&L.style.height&&ne(!0)},Fe=!E&&!P&&!S;return $.createElement(Ge,{ref:re,value:i,allowClear:S,handleReset:Me,suffix:me,prefixCls:x,classNames:j(j({},h),{},{affixWrapper:D(h==null?void 0:h.affixWrapper,he(he({},"".concat(x,"-show-count"),P),"".concat(x,"-textarea-allow-clear"),S))}),disabled:_,focused:k,className:D(W,Ee&&"".concat(x,"-out-of-range")),style:j(j({},C),H&&!Fe?{height:"auto"}:{}),dataAttrs:{affixWrapper:{"data-count":typeof le=="string"?le:void 0}},hidden:Y,readOnly:q,onClear:te},$.createElement(ut,Se({},ae,{autoSize:E,maxLength:d,onKeyDown:Ne,onChange:$e,onFocus:Te,onBlur:Oe,onCompositionStart:Ae,onCompositionEnd:Ie,className:D(h==null?void 0:h.textarea),style:j(j({},R==null?void 0:R.textarea),{},{resize:C==null?void 0:C.resize}),disabled:_,prefixCls:x,onResize:Ve,ref:oe,readOnly:q})))});const ft=e=>{const{componentCls:a,paddingLG:t}=e,n=`${a}-textarea`;return{[`textarea${a}`]:{maxWidth:"100%",height:"auto",minHeight:e.controlHeight,lineHeight:e.lineHeight,verticalAlign:"bottom",transition:`all ${e.motionDurationSlow}`,resize:"vertical",[`&${a}-mouse-active`]:{transition:`all ${e.motionDurationSlow}, height 0s, width 0s`}},[`${a}-textarea-affix-wrapper-resize-dirty`]:{width:"auto"},[n]:{position:"relative","&-show-count":{[`${a}-data-count`]:{position:"absolute",bottom:e.calc(e.fontSize).mul(e.lineHeight).mul(-1).equal(),insetInlineEnd:0,color:e.colorTextDescription,whiteSpace:"nowrap",pointerEvents:"none"}},[`
        &-allow-clear > ${a},
        &-affix-wrapper${n}-has-feedback ${a}
      `]:{paddingInlineEnd:t},[`&-affix-wrapper${a}-affix-wrapper`]:{padding:0,[`> textarea${a}`]:{fontSize:"inherit",border:"none",outline:"none",background:"transparent",minHeight:e.calc(e.controlHeight).sub(e.calc(e.lineWidth).mul(2)).equal(),"&:focus":{boxShadow:"none !important"}},[`${a}-suffix`]:{margin:0,"> *:not(:last-child)":{marginInline:0},[`${a}-clear-icon`]:{position:"absolute",insetInlineEnd:e.paddingInline,insetBlockStart:e.paddingXS},[`${n}-suffix`]:{position:"absolute",top:0,insetInlineEnd:e.paddingInline,bottom:0,zIndex:1,display:"inline-flex",alignItems:"center",margin:"auto",pointerEvents:"none"}}},[`&-affix-wrapper${a}-affix-wrapper-rtl`]:{[`${a}-suffix`]:{[`${a}-data-count`]:{direction:"ltr",insetInlineStart:0}}},[`&-affix-wrapper${a}-affix-wrapper-sm`]:{[`${a}-suffix`]:{[`${a}-clear-icon`]:{insetInlineEnd:e.paddingInlineSM}}}}}},mt=_e(["Input","TextArea"],e=>{const a=He(e,Xe(e));return[ft(a)]},Ue,{resetFont:!1});var vt=function(e,a){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&a.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,n=Object.getOwnPropertySymbols(e);c<n.length;c++)a.indexOf(n[c])<0&&Object.prototype.propertyIsEnumerable.call(e,n[c])&&(t[n[c]]=e[n[c]]);return t};const Ct=o.forwardRef((e,a)=>{var t;const{prefixCls:n,bordered:c=!0,size:m,disabled:s,status:g,allowClear:S,classNames:d,rootClassName:v,className:z,style:b,styles:T,variant:x,showCount:P,onMouseDown:K,onResize:W}=e,C=vt(e,["prefixCls","bordered","size","disabled","status","allowClear","classNames","rootClassName","className","style","styles","variant","showCount","onMouseDown","onResize"]),{getPrefixCls:_,direction:Y,allowClear:h,autoComplete:R,className:O,style:te,classNames:Z,styles:q}=Le("textArea"),E=o.useContext(je),M=s??E,{status:ae,hasFeedback:U,feedbackIcon:J}=o.useContext(Be),G=tt(ae,g),A=o.useRef(null);o.useImperativeHandle(a,()=>{var u;return{resizableTextArea:(u=A.current)===null||u===void 0?void 0:u.resizableTextArea,focus:l=>{var F,N;Je((N=(F=A.current)===null||F===void 0?void 0:F.resizableTextArea)===null||N===void 0?void 0:N.textArea,l)},blur:()=>{var l;return(l=A.current)===null||l===void 0?void 0:l.blur()}}});const i=_("input",n),X=Ke(i),[Q,k,V]=Qe(i,v),[y]=mt(i,X),{compactSize:p,compactItemClassnames:ee}=We(i,Y),H=Ye(u=>{var l;return(l=m??p)!==null&&l!==void 0?l:u}),[ne,re]=nt("textArea",x,c),oe=ke(S??h),[I,ie]=o.useState(!1),[de,ue]=o.useState(!1),se=u=>{ie(!0),K==null||K(u);const l=()=>{ie(!1),document.removeEventListener("mouseup",l)};document.addEventListener("mouseup",l)},fe=u=>{var l,F;if(W==null||W(u),I&&typeof getComputedStyle=="function"){const N=(F=(l=A.current)===null||l===void 0?void 0:l.nativeElement)===null||F===void 0?void 0:F.querySelector("textarea");N&&getComputedStyle(N).resize==="both"&&ue(!0)}};return Q(y(o.createElement(dt,Object.assign({autoComplete:R},C,{style:Object.assign(Object.assign({},te),b),styles:Object.assign(Object.assign({},q),T),disabled:M,allowClear:oe,className:D(V,X,z,v,ee,O,de&&`${i}-textarea-affix-wrapper-resize-dirty`),classNames:Object.assign(Object.assign(Object.assign({},d),Z),{textarea:D({[`${i}-sm`]:H==="small",[`${i}-lg`]:H==="large"},k,d==null?void 0:d.textarea,Z.textarea,I&&`${i}-mouse-active`),variant:D({[`${i}-${ne}`]:re},et(i,G)),affixWrapper:D(`${i}-textarea-affix-wrapper`,{[`${i}-affix-wrapper-rtl`]:Y==="rtl",[`${i}-affix-wrapper-sm`]:H==="small",[`${i}-affix-wrapper-lg`]:H==="large",[`${i}-textarea-show-count`]:P||((t=e.count)===null||t===void 0?void 0:t.show)},k)}),prefixCls:i,suffix:U&&o.createElement("span",{className:`${i}-textarea-suffix`},J),showCount:P,ref:A,onResize:fe,onMouseDown:se}))))});var gt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]},name:"edit",theme:"outlined"},pt=function(a,t){return o.createElement(Ze,Se({},a,{ref:t,icon:gt}))},yt=o.forwardRef(pt);export{yt as R,Ct as T};
