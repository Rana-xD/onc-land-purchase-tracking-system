import{r as j,j as e,B as f,s as b}from"./app-C0Remzwy.js";import"./dayjs.min-CZ4RPd-B.js";import{f as g}from"./khmerDate-iNtMyZoL.js";import{F as r}from"./index-BkP9y4f7.js";import{C as m}from"./index-Cfi4PyFn.js";import{I as a}from"./index-BgpcnuvQ.js";import{S as n}from"./index-O-VEiTMD.js";import{D as y}from"./index-gVcQ-3IH.js";import{R as I}from"./SaveOutlined-CaFFUPgX.js";import{I as _}from"./index-Dexa-OXF.js";const{Option:o}=n;function z({onSubmit:d,files:F,frontImage:s,initialValues:c}){const[x]=r.useForm(),[h,l]=j.useState(!1),u=async t=>{try{l(!0);const i={...t,date_of_birth:t.date_of_birth?t.date_of_birth.format("YYYY-MM-DD"):null};await d(i)}catch{b.error("មានបញ្ហាក្នុងការរក្សាទុកព័ត៌មាន")}finally{l(!1)}},p=()=>!s||!s.base64?null:e.jsx(m,{title:"រូបភាពបង្ហាញ",className:"mb-6",styles:{body:{padding:"16px",textAlign:"center"}},children:e.jsx("div",{style:{maxWidth:"500px",margin:"0 auto"},children:e.jsx(_,{src:s.base64,alt:s.name||"Front Image",style:{maxHeight:"350px",objectFit:"contain"},preview:{mask:e.jsx("div",{children:"Click to view full size"})}})})});return e.jsxs(e.Fragment,{children:[p(),e.jsx(m,{title:"ព័ត៌មានអ្នកលក់",className:"mb-6",children:e.jsxs(r,{form:x,layout:"vertical",onFinish:u,initialValues:c||{sex:"male"},children:[e.jsx(r.Item,{label:"ឈ្មោះ",name:"name",rules:[{required:!0,message:"សូមបញ្ចូលឈ្មោះ"}],children:e.jsx(a,{placeholder:"បញ្ចូលឈ្មោះ"})}),e.jsx(r.Item,{label:"ភេទ",name:"sex",rules:[{required:!0,message:"សូមជ្រើសរើសភេទ"}],children:e.jsxs(n,{children:[e.jsx(o,{value:"male",children:"ប្រុស"}),e.jsx(o,{value:"female",children:"ស្រី"})]})}),e.jsx(r.Item,{label:"ថ្ងៃខែឆ្នាំកំណើត",name:"date_of_birth",rules:[{required:!0,message:"សូមជ្រើសរើសថ្ងៃខែឆ្នាំកំណើត"}],children:e.jsx(y,{style:{width:"100%"},format:t=>g(t),placeholder:"ជ្រើសរើសថ្ងៃខែឆ្នាំកំណើត"})}),e.jsx(r.Item,{label:"លេខអត្តសញ្ញាណប័ណ្ណ",name:"identity_number",rules:[{required:!0,message:"សូមបញ្ចូលលេខអត្តសញ្ញាណប័ណ្ណ"}],children:e.jsx(a,{placeholder:"បញ្ចូលលេខអត្តសញ្ញាណប័ណ្ណ"})}),e.jsx(r.Item,{label:"អាសយដ្ឋាន",name:"address",rules:[{required:!0,message:"សូមបញ្ចូលអាសយដ្ឋាន"}],children:e.jsx(a.TextArea,{placeholder:"បញ្ចូលអាសយដ្ឋាន",rows:3})}),e.jsx(r.Item,{label:"លេខទូរស័ព្ទ",name:"phone_number",children:e.jsx(a,{placeholder:"បញ្ចូលលេខទូរស័ព្ទ"})}),e.jsx(r.Item,{children:e.jsx(f,{type:"primary",htmlType:"submit",loading:h,icon:e.jsx(I,{}),size:"large",block:!0,children:"រក្សាទុកអ្នកលក់"})})]})})]})}export{z as S};
