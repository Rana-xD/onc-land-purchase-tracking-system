import{r as s,a5 as x}from"./app-D0OhDuOP.js";import{B as y,ag as E}from"./index-XQ9uBlxv.js";function c(n){return!!(n!=null&&n.then)}const S=n=>{const{type:d,children:p,prefixCls:v,buttonProps:m,close:l,autoFocus:g,emitEvent:h,isSilent:i,quitOnNullishReturnValue:C,actionFn:o}=n,r=s.useRef(!1),f=s.useRef(null),[R,a]=x(!1),u=(...t)=>{l==null||l.apply(void 0,t)};s.useEffect(()=>{let t=null;return g&&(t=setTimeout(()=>{var e;(e=f.current)===null||e===void 0||e.focus({preventScroll:!0})})),()=>{t&&clearTimeout(t)}},[]);const b=t=>{c(t)&&(a(!0),t.then((...e)=>{a(!1,!0),u.apply(void 0,e),r.current=!1},e=>{if(a(!1,!0),r.current=!1,!(i!=null&&i()))return Promise.reject(e)}))},k=t=>{if(r.current)return;if(r.current=!0,!o){u();return}let e;if(h){if(e=o(t),C&&!c(e)){r.current=!1,u(t);return}}else if(o.length)e=o(l),r.current=!1;else if(e=o(),!c(e)){u();return}b(e)};return s.createElement(y,Object.assign({},E(d),{onClick:k,loading:R,prefixCls:v},m,{ref:f}),p)};export{S as A};
