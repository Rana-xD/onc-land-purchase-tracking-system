import{r as _,j as r,Q as g,B as l}from"./app-BrCXGEhZ.js";import{A as w}from"./AdminLayout-sV_EEP8n.js";import{d as i}from"./dayjs.min-C-nyQOtZ.js";import"./km-BLaOJj-t.js";import{C as d}from"./index-DRz4vaHg.js";import{T as y}from"./index-Dru69ujH.js";import{S as c}from"./index-Ch5jzg5Q.js";import{I as Y}from"./index-qaS1-amX.js";import{R as p}from"./SearchOutlined-BDCl3y_A.js";import{D as $}from"./index-BdQTU9pk.js";import{S as k}from"./index-OVY5O9Wo.js";import{R as v}from"./ReloadOutlined-DyivhAg6.js";import{F as I}from"./Table-J9C6Be-7.js";import{T as S}from"./index-pzF3Y6wt.js";import"./UserOutlined-DgkU0Wia.js";import"./index-DjqfnhJJ.js";import"./index-DXnJKA6M.js";import"./EllipsisOutlined-CxDggLKs.js";import"./PurePanel-BBaic0YS.js";import"./InboxOutlined-Qxvmf9ye.js";import"./useVariants-EJywnfb4.js";import"./EditOutlined-tdLcT6_z.js";import"./getAllowClear-CiWMq0gn.js";import"./CheckOutlined-BONIWw9W.js";import"./useIcons-CR98POIW.js";import"./DownOutlined-Bc8ecrXM.js";import"./Input-BbbFc-8M.js";import"./EyeOutlined-CG_zYn54.js";import"./CalendarOutlined-easnY0-h.js";import"./ClockCircleOutlined-BSLjDnKK.js";import"./addEventListener-I1XHhjus.js";import"./index-D0979U_2.js";import"./useBubbleLock-CmR5-O3r.js";import"./index-Dib3LoS_.js";import"./Pagination-7ru7OaTS.js";import"./index-DwuA6IHU.js";import"./FileOutlined-DtqVzwrm.js";import"./FolderOutlined-sXfZ_WPD.js";const{Title:C,Text:n}=y,{RangePicker:D}=$;function fe({auth:M,activities:o,users:x,filters:h}){const[t,a]=_.useState(h),f=()=>{window.location.href=route("activities.index",t)},u=()=>{a({}),window.location.href=route("activities.index")},j=[{title:"អ្នកប្រើប្រាស់",dataIndex:"user",key:"user",render:e=>(e==null?void 0:e.name)||"មិនមានអ្នកប្រើប្រាស់"},{title:"សកម្មភាព",dataIndex:"action",key:"action",render:e=>r.jsx(S,{color:"blue",children:e})},{title:"ការពិពណ៌នា",dataIndex:"description",key:"description"},{title:"អាសយដ្ឋាន IP",dataIndex:"ip_address",key:"ip_address"},{title:"កាលបរិច្ឆេទ",dataIndex:"created_at",key:"created_at",render:e=>i(e).locale("km").format("DD MMMM YYYY HH:mm:ss")}];return r.jsxs(w,{children:[r.jsx(g,{title:"កំណត់ត្រាសកម្មភាព"}),r.jsxs(d,{className:"mb-6",children:[r.jsx(C,{level:4,children:"កំណត់ត្រាសកម្មភាពអ្នកប្រើប្រាស់"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsx(n,{strong:!0,children:"អ្នកប្រើប្រាស់"}),r.jsx(c,{placeholder:"ជ្រើសរើសអ្នកប្រើប្រាស់",className:"w-full",allowClear:!0,value:t.user_id,onChange:e=>a({...t,user_id:e}),children:x.map(e=>r.jsx(c.Option,{value:e.id.toString(),children:e.name},e.id))})]}),r.jsxs("div",{children:[r.jsx(n,{strong:!0,children:"សកម្មភាព"}),r.jsx(Y,{placeholder:"ស្វែងរកសកម្មភាព",value:t.action,onChange:e=>a({...t,action:e.target.value}),prefix:r.jsx(p,{})})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx(n,{strong:!0,children:"កាលបរិច្ឆេទ"}),r.jsx(D,{className:"w-full",locale:{locale:"km"},value:[t.date_from?i(t.date_from):null,t.date_to?i(t.date_to):null],onChange:e=>{var s,m;a({...t,date_from:((s=e==null?void 0:e[0])==null?void 0:s.format("YYYY-MM-DD"))||void 0,date_to:((m=e==null?void 0:e[1])==null?void 0:m.format("YYYY-MM-DD"))||void 0})}})]})]}),r.jsx("div",{className:"flex justify-end mt-4",children:r.jsxs(k,{children:[r.jsx(l,{icon:r.jsx(v,{}),onClick:u,children:"កំណត់ឡើងវិញ"}),r.jsx(l,{type:"primary",icon:r.jsx(p,{}),onClick:f,children:"ស្វែងរក"})]})})]}),r.jsx(d,{children:r.jsx(I,{columns:j,dataSource:o.data,rowKey:"id",pagination:{current:o.meta.current_page,pageSize:o.meta.per_page,total:o.meta.total,showSizeChanger:!1,showTotal:e=>`សរុប ${e} កំណត់ត្រា`},onChange:e=>{window.location.href=`${o.meta.path}?page=${e.current}${t.user_id?`&user_id=${t.user_id}`:""}${t.action?`&action=${t.action}`:""}${t.date_from?`&date_from=${t.date_from}`:""}${t.date_to?`&date_to=${t.date_to}`:""}`}})})]})}export{fe as default};
