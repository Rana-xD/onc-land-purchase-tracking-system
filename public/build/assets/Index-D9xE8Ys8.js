import{aO as fe,y as de,r as J,j as O,Q as he,S as ne,t as ve}from"./app-D0OhDuOP.js";import{A as pe}from"./AdminLayout-DfyZC7U7.js";import{F as Q}from"./index-01QrSur2.js";import{B}from"./index-XQ9uBlxv.js";import{R as ge}from"./UserAddOutlined-tNPDV1QR.js";import{F as me}from"./Table-CJMywyvl.js";import{M as ye}from"./index-DSx0c0nZ.js";import{I as Z}from"./index-DyIYvMCA.js";import{S as V}from"./index-BXlDNFm_.js";import{R as ue}from"./SearchOutlined-DdbS1Qlk.js";import{S as le}from"./index-CpY42lHj.js";import{s as ie}from"./index-VXrvBi_7.js";import{T as xe}from"./index-DxlGwFBo.js";import{R as Te}from"./EyeOutlined-Bk9sN1n5.js";import{R as Oe}from"./EditOutlined-BQAB7wjt.js";import{P as be}from"./index-BLwNk9Dd.js";import{R as je}from"./DeleteOutlined-C5fTVnAq.js";import"./UserOutlined-Bw1Yg3TV.js";import"./index-BKPGZTnh.js";import"./EllipsisOutlined-BcUT9_x5.js";import"./PurePanel-BrlMViLC.js";import"./index-BoUcoXbW.js";import"./row-Cvvd4www.js";import"./index-BNYa27A7.js";import"./CheckOutlined-C-W3vkf9.js";import"./ExclamationCircleFilled-BuCwC-hN.js";import"./CloseOutlined-CSg-7HVH.js";import"./getAllowClear-7r21EHJH.js";import"./pickAttrs-BMtZpb9Y.js";import"./addEventListener-Dvq9iQDE.js";import"./DownOutlined-BKT6hG3e.js";import"./index-CxyNWzZ_.js";import"./useBubbleLock-Dp5g0NxF.js";import"./index-HowiUfuo.js";import"./Pagination-C28t5-1k.js";import"./index-Bjcdw0HM.js";import"./extendsObject-78o_rR5W.js";import"./FileOutlined-CmtzEeI9.js";import"./FolderOutlined-CsvjmU0T.js";import"./Input-DIi4XD1o.js";import"./useVariants-VmmnPvRy.js";import"./InfoCircleFilled-Csbq1HVY.js";import"./ActionButton-DPI_9ZHB.js";import"./useClosable-rmjEiMr1.js";import"./Skeleton-BB1PfEPR.js";import"./useIcons-De8HtjeC.js";var ae={exports:{}},ce;function Ee(){return ce||(ce=1,function(_){_.exports=function(y){var E={};function e(n){if(E[n])return E[n].exports;var s=E[n]={exports:{},id:n,loaded:!1};return y[n].call(s.exports,s,s.exports,e),s.loaded=!0,s.exports}return e.m=y,e.c=E,e.p="",e(0)}([function(y,E,e){y.exports=e(1)},function(y,E,e){Object.defineProperty(E,"__esModule",{value:!0});function n(u){return u&&u.__esModule?u:{default:u}}var s=e(2),g=n(s);E.default=g.default,y.exports=E.default},function(y,E,e){Object.defineProperty(E,"__esModule",{value:!0});var n=Object.assign||function(r){for(var a=1;a<arguments.length;a++){var m=arguments[a];for(var v in m)Object.prototype.hasOwnProperty.call(m,v)&&(r[v]=m[v])}return r};E.default=l;function s(r){return r&&r.__esModule?r:{default:r}}function g(r,a){var m={};for(var v in r)a.indexOf(v)>=0||Object.prototype.hasOwnProperty.call(r,v)&&(m[v]=r[v]);return m}var u=e(3),h=e(4),i=s(h),o=e(14),f=e(15),d=s(f);l.propTypes={activeClassName:i.default.string,activeIndex:i.default.number,activeStyle:i.default.object,autoEscape:i.default.bool,className:i.default.string,findChunks:i.default.func,highlightClassName:i.default.oneOfType([i.default.object,i.default.string]),highlightStyle:i.default.object,highlightTag:i.default.oneOfType([i.default.node,i.default.func,i.default.string]),sanitize:i.default.func,searchWords:i.default.arrayOf(i.default.oneOfType([i.default.string,i.default.instanceOf(RegExp)])).isRequired,textToHighlight:i.default.string.isRequired,unhighlightTag:i.default.oneOfType([i.default.node,i.default.func,i.default.string]),unhighlightClassName:i.default.string,unhighlightStyle:i.default.object};function l(r){var a=r.activeClassName,m=a===void 0?"":a,v=r.activeIndex,x=v===void 0?-1:v,p=r.activeStyle,A=r.autoEscape,z=r.caseSensitive,T=z===void 0?!1:z,k=r.className,M=r.findChunks,F=r.highlightClassName,$=F===void 0?"":F,U=r.highlightStyle,H=U===void 0?{}:U,W=r.highlightTag,ee=W===void 0?"mark":W,te=r.sanitize,Y=r.searchWords,X=r.textToHighlight,q=r.unhighlightTag,G=q===void 0?"span":q,K=r.unhighlightClassName,re=K===void 0?"":K,t=r.unhighlightStyle,c=g(r,["activeClassName","activeIndex","activeStyle","autoEscape","caseSensitive","className","findChunks","highlightClassName","highlightStyle","highlightTag","sanitize","searchWords","textToHighlight","unhighlightTag","unhighlightClassName","unhighlightStyle"]),P=(0,u.findAll)({autoEscape:A,caseSensitive:T,findChunks:M,sanitize:te,searchWords:Y,textToHighlight:X}),w=ee,b=-1,N="",S=void 0,j=function(I){var L={};for(var D in I)L[D.toLowerCase()]=I[D];return L},C=(0,d.default)(j);return(0,o.createElement)("span",n({className:k},c,{children:P.map(function(R,I){var L=X.substr(R.start,R.end-R.start);if(R.highlight){b++;var D=void 0;typeof $=="object"?T?D=$[L]:($=C($),D=$[L.toLowerCase()]):D=$;var oe=b===+x;N=D+" "+(oe?m:""),S=oe===!0&&p!=null?Object.assign({},H,p):H;var se={children:L,className:N,key:I,style:S};return typeof w!="string"&&(se.highlightIndex=b),(0,o.createElement)(w,se)}else return(0,o.createElement)(G,{children:L,className:re,key:I,style:t})})}))}y.exports=E.default},function(y,E){y.exports=function(e){var n={};function s(g){if(n[g])return n[g].exports;var u=n[g]={exports:{},id:g,loaded:!1};return e[g].call(u.exports,u,u.exports,s),u.loaded=!0,u.exports}return s.m=e,s.c=n,s.p="",s(0)}([function(e,n,s){e.exports=s(1)},function(e,n,s){Object.defineProperty(n,"__esModule",{value:!0});var g=s(2);Object.defineProperty(n,"combineChunks",{enumerable:!0,get:function(){return g.combineChunks}}),Object.defineProperty(n,"fillInChunks",{enumerable:!0,get:function(){return g.fillInChunks}}),Object.defineProperty(n,"findAll",{enumerable:!0,get:function(){return g.findAll}}),Object.defineProperty(n,"findChunks",{enumerable:!0,get:function(){return g.findChunks}})},function(e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.findAll=function(f){var d=f.autoEscape,l=f.caseSensitive,r=l===void 0?!1:l,a=f.findChunks,m=a===void 0?g:a,v=f.sanitize,x=f.searchWords,p=f.textToHighlight;return u({chunksToHighlight:s({chunks:m({autoEscape:d,caseSensitive:r,sanitize:v,searchWords:x,textToHighlight:p})}),totalLength:p?p.length:0})};var s=n.combineChunks=function(f){var d=f.chunks;return d=d.sort(function(l,r){return l.start-r.start}).reduce(function(l,r){if(l.length===0)return[r];var a=l.pop();if(r.start<=a.end){var m=Math.max(a.end,r.end);l.push({start:a.start,end:m})}else l.push(a,r);return l},[]),d},g=function(f){var d=f.autoEscape,l=f.caseSensitive,r=f.sanitize,a=r===void 0?h:r,m=f.searchWords,v=f.textToHighlight;return v=a(v),m.filter(function(x){return x}).reduce(function(x,p){p=a(p),d&&(p=i(p));for(var A=new RegExp(p,l?"g":"gi"),z=void 0;z=A.exec(v);){var T=z.index,k=A.lastIndex;k>T&&x.push({start:T,end:k}),z.index==A.lastIndex&&A.lastIndex++}return x},[])};n.findChunks=g;var u=n.fillInChunks=function(f){var d=f.chunksToHighlight,l=f.totalLength,r=[],a=function(x,p,A){p-x>0&&r.push({start:x,end:p,highlight:A})};if(d.length===0)a(0,l,!1);else{var m=0;d.forEach(function(v){a(m,v.start,!1),a(v.start,v.end,!0),m=v.end}),a(m,l,!1)}return r};function h(o){return o}function i(o){return o.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}}])},function(y,E,e){(function(n){if(n.env.NODE_ENV!=="production"){var s=typeof Symbol=="function"&&Symbol.for&&Symbol.for("react.element")||60103,g=function(h){return typeof h=="object"&&h!==null&&h.$$typeof===s},u=!0;y.exports=e(6)(g,u)}else y.exports=e(13)()}).call(E,e(5))},function(y,E){var e=y.exports={},n,s;function g(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?n=setTimeout:n=g}catch{n=g}try{typeof clearTimeout=="function"?s=clearTimeout:s=u}catch{s=u}})();function h(x){if(n===setTimeout)return setTimeout(x,0);if((n===g||!n)&&setTimeout)return n=setTimeout,setTimeout(x,0);try{return n(x,0)}catch{try{return n.call(null,x,0)}catch{return n.call(this,x,0)}}}function i(x){if(s===clearTimeout)return clearTimeout(x);if((s===u||!s)&&clearTimeout)return s=clearTimeout,clearTimeout(x);try{return s(x)}catch{try{return s.call(null,x)}catch{return s.call(this,x)}}}var o=[],f=!1,d,l=-1;function r(){!f||!d||(f=!1,d.length?o=d.concat(o):l=-1,o.length&&a())}function a(){if(!f){var x=h(r);f=!0;for(var p=o.length;p;){for(d=o,o=[];++l<p;)d&&d[l].run();l=-1,p=o.length}d=null,f=!1,i(x)}}e.nextTick=function(x){var p=new Array(arguments.length-1);if(arguments.length>1)for(var A=1;A<arguments.length;A++)p[A-1]=arguments[A];o.push(new m(x,p)),o.length===1&&!f&&h(a)};function m(x,p){this.fun=x,this.array=p}m.prototype.run=function(){this.fun.apply(null,this.array)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={};function v(){}e.on=v,e.addListener=v,e.once=v,e.off=v,e.removeListener=v,e.removeAllListeners=v,e.emit=v,e.prependListener=v,e.prependOnceListener=v,e.listeners=function(x){return[]},e.binding=function(x){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(x){throw new Error("process.chdir is not supported")},e.umask=function(){return 0}},function(y,E,e){(function(n){var s=e(7),g=e(8),u=e(9),h=e(10),i=e(11),o=e(12);y.exports=function(f,d){var l=typeof Symbol=="function"&&Symbol.iterator,r="@@iterator";function a(t){var c=t&&(l&&t[l]||t[r]);if(typeof c=="function")return c}var m="<<anonymous>>",v={array:z("array"),bool:z("boolean"),func:z("function"),number:z("number"),object:z("object"),string:z("string"),symbol:z("symbol"),any:T(),arrayOf:k,element:M(),instanceOf:F,node:W(),objectOf:U,oneOf:$,oneOfType:H,shape:ee,exact:te};function x(t,c){return t===c?t!==0||1/t===1/c:t!==t&&c!==c}function p(t){this.message=t,this.stack=""}p.prototype=Error.prototype;function A(t){if(n.env.NODE_ENV!=="production")var c={},P=0;function w(N,S,j,C,R,I,L){if(C=C||m,I=I||j,L!==i){if(d)g(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");else if(n.env.NODE_ENV!=="production"&&typeof console<"u"){var D=C+":"+j;!c[D]&&P<3&&(u(!1,"You are manually calling a React.PropTypes validation function for the `%s` prop on `%s`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details.",I,C),c[D]=!0,P++)}}return S[j]==null?N?S[j]===null?new p("The "+R+" `"+I+"` is marked as required "+("in `"+C+"`, but its value is `null`.")):new p("The "+R+" `"+I+"` is marked as required in "+("`"+C+"`, but its value is `undefined`.")):null:t(S,j,C,R,I)}var b=w.bind(null,!1);return b.isRequired=w.bind(null,!0),b}function z(t){function c(P,w,b,N,S,j){var C=P[w],R=q(C);if(R!==t){var I=G(C);return new p("Invalid "+N+" `"+S+"` of type "+("`"+I+"` supplied to `"+b+"`, expected ")+("`"+t+"`."))}return null}return A(c)}function T(){return A(s.thatReturnsNull)}function k(t){function c(P,w,b,N,S){if(typeof t!="function")return new p("Property `"+S+"` of component `"+b+"` has invalid PropType notation inside arrayOf.");var j=P[w];if(!Array.isArray(j)){var C=q(j);return new p("Invalid "+N+" `"+S+"` of type "+("`"+C+"` supplied to `"+b+"`, expected an array."))}for(var R=0;R<j.length;R++){var I=t(j,R,b,N,S+"["+R+"]",i);if(I instanceof Error)return I}return null}return A(c)}function M(){function t(c,P,w,b,N){var S=c[P];if(!f(S)){var j=q(S);return new p("Invalid "+b+" `"+N+"` of type "+("`"+j+"` supplied to `"+w+"`, expected a single ReactElement."))}return null}return A(t)}function F(t){function c(P,w,b,N,S){if(!(P[w]instanceof t)){var j=t.name||m,C=re(P[w]);return new p("Invalid "+N+" `"+S+"` of type "+("`"+C+"` supplied to `"+b+"`, expected ")+("instance of `"+j+"`."))}return null}return A(c)}function $(t){if(!Array.isArray(t))return n.env.NODE_ENV!=="production"&&u(!1,"Invalid argument supplied to oneOf, expected an instance of array."),s.thatReturnsNull;function c(P,w,b,N,S){for(var j=P[w],C=0;C<t.length;C++)if(x(j,t[C]))return null;var R=JSON.stringify(t);return new p("Invalid "+N+" `"+S+"` of value `"+j+"` "+("supplied to `"+b+"`, expected one of "+R+"."))}return A(c)}function U(t){function c(P,w,b,N,S){if(typeof t!="function")return new p("Property `"+S+"` of component `"+b+"` has invalid PropType notation inside objectOf.");var j=P[w],C=q(j);if(C!=="object")return new p("Invalid "+N+" `"+S+"` of type "+("`"+C+"` supplied to `"+b+"`, expected an object."));for(var R in j)if(j.hasOwnProperty(R)){var I=t(j,R,b,N,S+"."+R,i);if(I instanceof Error)return I}return null}return A(c)}function H(t){if(!Array.isArray(t))return n.env.NODE_ENV!=="production"&&u(!1,"Invalid argument supplied to oneOfType, expected an instance of array."),s.thatReturnsNull;for(var c=0;c<t.length;c++){var P=t[c];if(typeof P!="function")return u(!1,"Invalid argument supplied to oneOfType. Expected an array of check functions, but received %s at index %s.",K(P),c),s.thatReturnsNull}function w(b,N,S,j,C){for(var R=0;R<t.length;R++){var I=t[R];if(I(b,N,S,j,C,i)==null)return null}return new p("Invalid "+j+" `"+C+"` supplied to "+("`"+S+"`."))}return A(w)}function W(){function t(c,P,w,b,N){return Y(c[P])?null:new p("Invalid "+b+" `"+N+"` supplied to "+("`"+w+"`, expected a ReactNode."))}return A(t)}function ee(t){function c(P,w,b,N,S){var j=P[w],C=q(j);if(C!=="object")return new p("Invalid "+N+" `"+S+"` of type `"+C+"` "+("supplied to `"+b+"`, expected `object`."));for(var R in t){var I=t[R];if(I){var L=I(j,R,b,N,S+"."+R,i);if(L)return L}}return null}return A(c)}function te(t){function c(P,w,b,N,S){var j=P[w],C=q(j);if(C!=="object")return new p("Invalid "+N+" `"+S+"` of type `"+C+"` "+("supplied to `"+b+"`, expected `object`."));var R=h({},P[w],t);for(var I in R){var L=t[I];if(!L)return new p("Invalid "+N+" `"+S+"` key `"+I+"` supplied to `"+b+"`.\nBad object: "+JSON.stringify(P[w],null,"  ")+`
Valid keys: `+JSON.stringify(Object.keys(t),null,"  "));var D=L(j,I,b,N,S+"."+I,i);if(D)return D}return null}return A(c)}function Y(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(Y);if(t===null||f(t))return!0;var c=a(t);if(c){var P=c.call(t),w;if(c!==t.entries){for(;!(w=P.next()).done;)if(!Y(w.value))return!1}else for(;!(w=P.next()).done;){var b=w.value;if(b&&!Y(b[1]))return!1}}else return!1;return!0;default:return!1}}function X(t,c){return t==="symbol"||c["@@toStringTag"]==="Symbol"||typeof Symbol=="function"&&c instanceof Symbol}function q(t){var c=typeof t;return Array.isArray(t)?"array":t instanceof RegExp?"object":X(c,t)?"symbol":c}function G(t){if(typeof t>"u"||t===null)return""+t;var c=q(t);if(c==="object"){if(t instanceof Date)return"date";if(t instanceof RegExp)return"regexp"}return c}function K(t){var c=G(t);switch(c){case"array":case"object":return"an "+c;case"boolean":case"date":case"regexp":return"a "+c;default:return c}}function re(t){return!t.constructor||!t.constructor.name?m:t.constructor.name}return v.checkPropTypes=o,v.PropTypes=v,v}}).call(E,e(5))},function(y,E){function e(s){return function(){return s}}var n=function(){};n.thatReturns=e,n.thatReturnsFalse=e(!1),n.thatReturnsTrue=e(!0),n.thatReturnsNull=e(null),n.thatReturnsThis=function(){return this},n.thatReturnsArgument=function(s){return s},y.exports=n},function(y,E,e){(function(n){var s=function(h){};n.env.NODE_ENV!=="production"&&(s=function(h){if(h===void 0)throw new Error("invariant requires an error message argument")});function g(u,h,i,o,f,d,l,r){if(s(h),!u){var a;if(h===void 0)a=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var m=[i,o,f,d,l,r],v=0;a=new Error(h.replace(/%s/g,function(){return m[v++]})),a.name="Invariant Violation"}throw a.framesToPop=1,a}}y.exports=g}).call(E,e(5))},function(y,E,e){(function(n){var s=e(7),g=s;if(n.env.NODE_ENV!=="production"){var u=function(i){for(var o=arguments.length,f=Array(o>1?o-1:0),d=1;d<o;d++)f[d-1]=arguments[d];var l=0,r="Warning: "+i.replace(/%s/g,function(){return f[l++]});typeof console<"u"&&console.error(r);try{throw new Error(r)}catch{}};g=function(i,o){if(o===void 0)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(o.indexOf("Failed Composite propType: ")!==0&&!i){for(var f=arguments.length,d=Array(f>2?f-2:0),l=2;l<f;l++)d[l-2]=arguments[l];u.apply(void 0,[o].concat(d))}}}y.exports=g}).call(E,e(5))},function(y,E){var e=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable;function g(h){if(h==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(h)}function u(){try{if(!Object.assign)return!1;var h=new String("abc");if(h[5]="de",Object.getOwnPropertyNames(h)[0]==="5")return!1;for(var i={},o=0;o<10;o++)i["_"+String.fromCharCode(o)]=o;var f=Object.getOwnPropertyNames(i).map(function(l){return i[l]});if(f.join("")!=="0123456789")return!1;var d={};return"abcdefghijklmnopqrst".split("").forEach(function(l){d[l]=l}),Object.keys(Object.assign({},d)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}y.exports=u()?Object.assign:function(h,i){for(var o,f=g(h),d,l=1;l<arguments.length;l++){o=Object(arguments[l]);for(var r in o)n.call(o,r)&&(f[r]=o[r]);if(e){d=e(o);for(var a=0;a<d.length;a++)s.call(o,d[a])&&(f[d[a]]=o[d[a]])}}return f}},function(y,E){var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";y.exports=e},function(y,E,e){(function(n){if(n.env.NODE_ENV!=="production")var s=e(8),g=e(9),u=e(11),h={};function i(o,f,d,l,r){if(n.env.NODE_ENV!=="production"){for(var a in o)if(o.hasOwnProperty(a)){var m;try{s(typeof o[a]=="function","%s: %s type `%s` is invalid; it must be a function, usually from the `prop-types` package, but received `%s`.",l||"React class",d,a,typeof o[a]),m=o[a](f,a,l,d,null,u)}catch(x){m=x}if(g(!m||m instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",l||"React class",d,a,typeof m),m instanceof Error&&!(m.message in h)){h[m.message]=!0;var v=r?r():"";g(!1,"Failed %s type: %s%s",d,m.message,v??"")}}}}y.exports=i}).call(E,e(5))},function(y,E,e){var n=e(7),s=e(8),g=e(11);y.exports=function(){function u(o,f,d,l,r,a){a!==g&&s(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}u.isRequired=u;function h(){return u}var i={array:u,bool:u,func:u,number:u,object:u,string:u,symbol:u,any:u,arrayOf:h,element:u,instanceOf:h,node:u,objectOf:h,oneOf:h,oneOfType:h,shape:h,exact:h};return i.checkPropTypes=n,i.PropTypes=i,i}},function(y,E){y.exports=fe()},function(y,E){var e=function(g,u){return g===u};function n(s){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,u=void 0,h=[],i=void 0,o=!1,f=function(r,a){return g(r,h[a])},d=function(){for(var r=arguments.length,a=Array(r),m=0;m<r;m++)a[m]=arguments[m];return o&&u===this&&a.length===h.length&&a.every(f)||(o=!0,u=this,h=a,i=s.apply(this,a)),i};return d}y.exports=n}])}(ae)),ae.exports}var we=Ee();const Se=de(we);function xt({users:_,auth:y}){const[E,e]=J.useState(""),[n,s]=J.useState(""),g=J.useRef(null),[u,h]=J.useState(!1),[i]=Q.useForm(),[o,f]=J.useState(null),d=(T,k,M)=>{k(),e(T[0]),s(M)},l=T=>{T(),e("")},r=T=>({filterDropdown:({setSelectedKeys:k,selectedKeys:M,confirm:F,clearFilters:$,close:U})=>O.jsxs("div",{style:{padding:8},onKeyDown:H=>H.stopPropagation(),children:[O.jsx(Z,{ref:g,placeholder:`ស្វែងរក ${T}`,value:M[0],onChange:H=>k(H.target.value?[H.target.value]:[]),onPressEnter:()=>d(M,F,T),style:{marginBottom:8,display:"block"}}),O.jsxs(le,{children:[O.jsx(B,{type:"primary",onClick:()=>d(M,F,T),icon:O.jsx(ue,{}),size:"small",style:{width:90},children:"ស្វែងរក"}),O.jsx(B,{onClick:()=>$&&l($),size:"small",style:{width:90},children:"សម្អាត"}),O.jsx(B,{type:"link",size:"small",onClick:()=>{U()},children:"បិទ"})]})]}),filterIcon:k=>O.jsx(ue,{style:{color:k?"#1890ff":void 0}}),onFilter:(k,M)=>M[T].toString().toLowerCase().includes(k.toLowerCase()),onFilterDropdownOpenChange:k=>{k&&setTimeout(()=>{var M;return(M=g.current)==null?void 0:M.select()},100)},render:k=>n===T?O.jsx(Se,{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[E],autoEscape:!0,textToHighlight:k?k.toString():""}):k}),a=T=>{h(!0),T?(f(T.id),i.setFieldsValue({name:T.name,email:T.email,role_id:T.role_id})):(f(null),i.resetFields())},m=()=>{i.validateFields().then(T=>{o?ne.put(route("users.update",o),T,{onSuccess:()=>{h(!1),ie.success("អ្នកប្រើប្រាស់ត្រូវបានកែប្រែដោយជោគជ័យ")}}):ne.post(route("users.store"),T,{onSuccess:()=>{h(!1),ie.success("អ្នកប្រើប្រាស់ត្រូវបានបង្កើតដោយជោគជ័យ")}})})},v=()=>{h(!1)},x=T=>{ne.delete(route("users.destroy",T),{onSuccess:()=>{ie.success("អ្នកប្រើប្រាស់ត្រូវបានលុបដោយជោគជ័យ")}})},p=T=>{switch(T){case"administrator":return"red";case"manager":return"blue";default:return"green"}},A=T=>{switch(T){case"administrator":return"អេតមីន";case"manager":return"អ្នកគ្រប់គ្រង";default:return"បុគ្គលិក"}},z=[{title:"#",dataIndex:"id",key:"id",width:50,render:(T,k,M)=>M+1},{title:"ឈ្មោះ",dataIndex:"name",key:"name",width:200,...r("name")},{title:"អ៊ីមែល",dataIndex:"email",key:"email",width:250,...r("email")},{title:"តួនាទី",dataIndex:"role",key:"role",width:150,render:T=>O.jsx(xe,{color:p(T),children:A(T)}),filters:[{text:"អេតមីន",value:"administrator"},{text:"អ្នកគ្រប់គ្រង",value:"manager"},{text:"បុគ្គលិក",value:"staff"}],onFilter:(T,k)=>k.role===T},{title:"សកម្មភាព",key:"action",width:200,render:(T,k)=>{var M,F,$,U,H,W;return O.jsxs(le,{size:"small",children:[O.jsx(ve,{href:route("users.show",k.id),children:O.jsx(B,{type:"primary",icon:O.jsx(Te,{}),size:"small",children:"មើល"})}),(((M=y.user.assigned_role)==null?void 0:M.name)==="administrator"||((F=y.user.assigned_role)==null?void 0:F.name)==="manager"&&(($=k.assigned_role)==null?void 0:$.name)==="staff")&&O.jsx(B,{type:"default",icon:O.jsx(Oe,{}),size:"small",onClick:()=>a(k),children:"កែប្រែ"}),(((U=y.user.assigned_role)==null?void 0:U.name)==="administrator"||((H=y.user.assigned_role)==null?void 0:H.name)==="manager"&&((W=k.assigned_role)==null?void 0:W.name)==="staff")&&O.jsx(be,{title:"តើអ្នកពិតជាចង់លុបអ្នកប្រើប្រាស់នេះមែនទេ?",onConfirm:()=>x(k.id),okText:"បាទ/ចាស",cancelText:"ទេ",children:O.jsx(B,{danger:!0,icon:O.jsx(je,{}),size:"small",children:"លុប"})})]})}}];return O.jsxs(pe,{title:"គ្រប់គ្រងអ្នកប្រើប្រាស់",children:[O.jsx(he,{title:"គ្រប់គ្រងអ្នកប្រើប្រាស់"}),O.jsx("div",{className:"mb-4 flex justify-end",children:O.jsx(B,{type:"primary",icon:O.jsx(ge,{}),onClick:()=>a(),children:"បង្កើតអ្នកប្រើប្រាស់ថ្មី"})}),O.jsx(me,{columns:z,dataSource:_,rowKey:"id",pagination:{pageSize:10},scroll:{x:"max-content"}}),O.jsx(ye,{title:o?"កែប្រែអ្នកប្រើប្រាស់":"បង្កើតអ្នកប្រើប្រាស់ថ្មី",open:u,onOk:m,onCancel:v,okText:o?"កែប្រែ":"បង្កើត",cancelText:"បោះបង់",children:O.jsxs(Q,{form:i,layout:"vertical",name:"userForm",children:[O.jsx(Q.Item,{name:"name",label:"ឈ្មោះ",rules:[{required:!0,message:"សូមបញ្ចូលឈ្មោះ!"}],children:O.jsx(Z,{})}),O.jsx(Q.Item,{name:"email",label:"អ៊ីមែល",rules:[{required:!0,message:"សូមបញ្ចូលអ៊ីមែល!"},{type:"email",message:"អ៊ីមែលមិនត្រឹមត្រូវ!"}],children:O.jsx(Z,{})}),!o&&O.jsx(Q.Item,{name:"password",label:"ពាក្យសម្ងាត់",rules:[{required:!0,message:"សូមបញ្ចូលពាក្យសម្ងាត់!"}],children:O.jsx(Z.Password,{})}),O.jsx(Q.Item,{name:"role",label:"តួនាទី",rules:[{required:!0,message:"សូមជ្រើសរើសតួនាទី!"}],children:O.jsxs(V,{children:[O.jsx(V.Option,{value:"administrator",children:"អ្នកគ្រប់គ្រងប្រព័ន្ធ"}),O.jsx(V.Option,{value:"manager",children:"អ្នកគ្រប់គ្រង"}),O.jsx(V.Option,{value:"staff",children:"បុគ្គលិក"})]})})]})})]})}export{xt as default};
