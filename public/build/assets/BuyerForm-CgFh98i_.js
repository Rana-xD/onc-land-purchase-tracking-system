import{r as j,j as e,B as f}from"./app-BB1ZxGmZ.js";import"./dayjs.min-BKpMflCA.js";import{f as b}from"./khmerDate-iNtMyZoL.js";import{F as r}from"./index-BRhvAF0g.js";import{C as m}from"./index-CFcJuZ_P.js";import{I as l}from"./index-quoohvpH.js";import{S as n}from"./index-D_u505qY.js";import{D as y}from"./index-Dgyafjhd.js";import{I as g}from"./index-xjqdTS8d.js";import{R as v}from"./FileImageOutlined-DeKkUOaD.js";import{T as F}from"./index-4sotxCPT.js";const{Option:o}=n,{Title:z,Text:A}=F;function R({onSubmit:d,files:_,frontImage:s,initialValues:c}){const[u]=r.useForm(),[x,a]=j.useState(!1),p=async t=>{a(!0);try{const i={...t,date_of_birth:t.date_of_birth?t.date_of_birth.format("YYYY-MM-DD"):null};await d(i)}catch(i){console.error("Form submission error:",i)}finally{a(!1)}},h=()=>{if(!s)return null;const t=s.url||s.base64,i=s.mimeType&&s.mimeType.includes("image");return e.jsx(m,{title:"រូបភាពបង្ហាញ (រូបខាងមុខ)",className:"mb-6",styles:{body:{padding:"16px",textAlign:"center"}},children:i&&t?e.jsx("div",{style:{maxWidth:"500px",margin:"0 auto"},children:e.jsx(g,{src:t,alt:"រូបខាងមុខ",style:{maxHeight:"350px",objectFit:"contain"},preview:{maskClassName:"preview-mask",mask:e.jsx("div",{children:"Click to view full size"})}})}):e.jsxs("div",{style:{padding:"20px",textAlign:"center"},children:[e.jsx(v,{style:{fontSize:"48px",color:"#1890ff"}}),e.jsx("div",{style:{marginTop:"10px"},children:s.fileName||"រូបខាងមុខ"})]})})};return e.jsxs(e.Fragment,{children:[s&&h(),e.jsx(m,{title:"ព័ត៌មានអ្នកទិញ",className:"mb-6",children:e.jsxs(r,{form:u,layout:"vertical",onFinish:p,initialValues:c||{sex:"male"},children:[e.jsx(r.Item,{label:"ឈ្មោះ",name:"name",required:!0,rules:[{required:!0,message:"សូមបញ្ចូលឈ្មោះ"}],children:e.jsx(l,{placeholder:"បញ្ចូលឈ្មោះ"})}),e.jsx(r.Item,{label:"ភេទ",name:"sex",required:!0,children:e.jsxs(n,{children:[e.jsx(o,{value:"male",children:"ប្រុស"}),e.jsx(o,{value:"female",children:"ស្រី"})]})}),e.jsx(r.Item,{label:"ថ្ងៃខែឆ្នាំកំណើត",name:"date_of_birth",required:!0,rules:[{required:!0,message:"សូមជ្រើសរើសថ្ងៃខែឆ្នាំកំណើត"}],children:e.jsx(y,{style:{width:"100%"},format:t=>b(t),placeholder:"ជ្រើសរើសថ្ងៃខែឆ្នាំកំណើត"})}),e.jsx(r.Item,{label:"លេខអត្តសញ្ញាណប័ណ្ណ",name:"identity_number",required:!0,rules:[{required:!0,message:"សូមបញ្ចូលលេខអត្តសញ្ញាណប័ណ្ណ"}],children:e.jsx(l,{placeholder:"បញ្ចូលលេខអត្តសញ្ញាណប័ណ្ណ"})}),e.jsx(r.Item,{label:"អាសយដ្ឋាន",name:"address",required:!0,rules:[{required:!0,message:"សូមបញ្ចូលអាសយដ្ឋាន"}],children:e.jsx(l.TextArea,{placeholder:"បញ្ចូលអាសយដ្ឋាន",rows:3})}),e.jsx(r.Item,{label:"លេខទូរស័ព្ទ",name:"phone_number",children:e.jsx(l,{placeholder:"បញ្ចូលលេខទូរស័ព្ទ"})}),e.jsx(r.Item,{children:e.jsx(f,{type:"primary",htmlType:"submit",loading:x,size:"large",block:!0,children:"រក្សាទុក"})})]})})]})}export{R as B};
