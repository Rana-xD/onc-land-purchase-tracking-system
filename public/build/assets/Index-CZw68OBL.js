import{r as _,j as t,Q as g}from"./app-D0OhDuOP.js";import{A as w}from"./AdminLayout-DfyZC7U7.js";import{d as i}from"./dayjs.min-Bgh6-5v4.js";import"./km-CGzx4EAs.js";import{C as l}from"./index-BXZQm44E.js";import{T as y}from"./index-DUD5X347.js";import{S as d}from"./index-BXlDNFm_.js";import{I as Y}from"./index-DyIYvMCA.js";import{R as c}from"./SearchOutlined-DdbS1Qlk.js";import{D as $}from"./index-C98K_sL4.js";import{S as k}from"./index-CpY42lHj.js";import{B as p}from"./index-XQ9uBlxv.js";import{R as v}from"./ReloadOutlined-Dtwtuc-j.js";import{F as I}from"./Table-CJMywyvl.js";import{T as S}from"./index-DxlGwFBo.js";import"./UserOutlined-Bw1Yg3TV.js";import"./index-BKPGZTnh.js";import"./EllipsisOutlined-BcUT9_x5.js";import"./PurePanel-BrlMViLC.js";import"./index-BoUcoXbW.js";import"./Skeleton-BB1PfEPR.js";import"./CloseOutlined-CSg-7HVH.js";import"./useVariants-VmmnPvRy.js";import"./EditOutlined-BQAB7wjt.js";import"./getAllowClear-7r21EHJH.js";import"./CheckOutlined-C-W3vkf9.js";import"./pickAttrs-BMtZpb9Y.js";import"./useIcons-De8HtjeC.js";import"./DownOutlined-BKT6hG3e.js";import"./Input-DIi4XD1o.js";import"./EyeOutlined-Bk9sN1n5.js";import"./CalendarOutlined-C5Gy31PM.js";import"./ClockCircleOutlined-BGruiaAm.js";import"./addEventListener-Dvq9iQDE.js";import"./index-CxyNWzZ_.js";import"./useBubbleLock-Dp5g0NxF.js";import"./index-HowiUfuo.js";import"./Pagination-C28t5-1k.js";import"./index-Bjcdw0HM.js";import"./extendsObject-78o_rR5W.js";import"./FileOutlined-CmtzEeI9.js";import"./FolderOutlined-CsvjmU0T.js";import"./useClosable-rmjEiMr1.js";const{Title:C,Text:n}=y,{RangePicker:D}=$;function wr({auth:M,activities:o,users:x,filters:h}){const[e,a]=_.useState(h),f=()=>{window.location.href=route("activities.index",e)},u=()=>{a({}),window.location.href=route("activities.index")},j=[{title:"អ្នកប្រើប្រាស់",dataIndex:"user",key:"user",render:r=>(r==null?void 0:r.name)||"មិនមានអ្នកប្រើប្រាស់"},{title:"សកម្មភាព",dataIndex:"action",key:"action",render:r=>t.jsx(S,{color:"blue",children:r})},{title:"ការពិពណ៌នា",dataIndex:"description",key:"description"},{title:"អាសយដ្ឋាន IP",dataIndex:"ip_address",key:"ip_address"},{title:"កាលបរិច្ឆេទ",dataIndex:"created_at",key:"created_at",render:r=>i(r).locale("km").format("DD MMMM YYYY HH:mm:ss")}];return t.jsxs(w,{children:[t.jsx(g,{title:"កំណត់ត្រាសកម្មភាព"}),t.jsxs(l,{className:"mb-6",children:[t.jsx(C,{level:4,children:"កំណត់ត្រាសកម្មភាពអ្នកប្រើប្រាស់"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsxs("div",{children:[t.jsx(n,{strong:!0,children:"អ្នកប្រើប្រាស់"}),t.jsx(d,{placeholder:"ជ្រើសរើសអ្នកប្រើប្រាស់",className:"w-full",allowClear:!0,value:e.user_id,onChange:r=>a({...e,user_id:r}),children:x.map(r=>t.jsx(d.Option,{value:r.id.toString(),children:r.name},r.id))})]}),t.jsxs("div",{children:[t.jsx(n,{strong:!0,children:"សកម្មភាព"}),t.jsx(Y,{placeholder:"ស្វែងរកសកម្មភាព",value:e.action,onChange:r=>a({...e,action:r.target.value}),prefix:t.jsx(c,{})})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsx(n,{strong:!0,children:"កាលបរិច្ឆេទ"}),t.jsx(D,{className:"w-full",locale:{locale:"km"},value:[e.date_from?i(e.date_from):null,e.date_to?i(e.date_to):null],onChange:r=>{var m,s;a({...e,date_from:((m=r==null?void 0:r[0])==null?void 0:m.format("YYYY-MM-DD"))||void 0,date_to:((s=r==null?void 0:r[1])==null?void 0:s.format("YYYY-MM-DD"))||void 0})}})]})]}),t.jsx("div",{className:"flex justify-end mt-4",children:t.jsxs(k,{children:[t.jsx(p,{icon:t.jsx(v,{}),onClick:u,children:"កំណត់ឡើងវិញ"}),t.jsx(p,{type:"primary",icon:t.jsx(c,{}),onClick:f,children:"ស្វែងរក"})]})})]}),t.jsx(l,{children:t.jsx(I,{columns:j,dataSource:o.data,rowKey:"id",pagination:{current:o.meta.current_page,pageSize:o.meta.per_page,total:o.meta.total,showSizeChanger:!1,showTotal:r=>`សរុប ${r} កំណត់ត្រា`},onChange:r=>{window.location.href=`${o.meta.path}?page=${r.current}${e.user_id?`&user_id=${e.user_id}`:""}${e.action?`&action=${e.action}`:""}${e.date_from?`&date_from=${e.date_from}`:""}${e.date_to?`&date_to=${e.date_to}`:""}`}})})]})}export{wr as default};
